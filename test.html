<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Test - GM Booking</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #1f2937;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }
        .test-section h3 {
            color: #374151;
            margin-bottom: 15px;
        }
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 500;
        }
        .success {
            background: #d1fae5;
            border: 1px solid #a7f3d0;
            color: #065f46;
        }
        .error {
            background: #fee2e2;
            border: 1px solid #fecaca;
            color: #991b1b;
        }
    </style>
    
    <!-- Include the widget files -->
    <link rel="stylesheet" href="widget.css">
    <script src="gm-booking-widget-standalone.js"></script>
</head>
<body>
    <div class="container">
        <h1>üß™ Widget Deployment Test</h1>
        
        <div class="test-section">
            <h3>‚úÖ Files Loaded Successfully</h3>
            <p>If you can see this page, the widget files are accessible.</p>
            <div class="status success">
                ‚úÖ CSS and JavaScript files loaded from: <code>booking-widget.getproductbox.com</code>
            </div>
        </div>
        
        <div class="test-section">
            <h3>üéØ Widget Functionality Test</h3>
            <p>Try filling out and submitting the booking form below:</p>
            
            <!-- Test Widget -->
            <div data-gm-widget="booking" 
                 data-venue="manor" 
                 data-theme="light"
                 data-venue-area="upstairs">
            </div>
            
            <div id="test-status"></div>
        </div>
        
        <div class="test-section">
            <h3>üìã Test Instructions</h3>
            <ol>
                <li>Fill out the booking form above</li>
                <li>Submit the form</li>
                <li>Check that you see a success message</li>
                <li>Verify the booking appears in your GM Dashboard</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h3>üîß Integration Code</h3>
            <p>Use this code to embed the widget on your marketing websites:</p>
            <pre style="background: #1f2937; color: #f9fafb; padding: 15px; border-radius: 6px; overflow-x: auto;">
&lt;!-- Include widget files --&gt;
&lt;link rel="stylesheet" href="https://booking-widget.getproductbox.com/widget.css"&gt;
&lt;script src="https://booking-widget.getproductbox.com/gm-booking-widget-standalone.js"&gt;&lt;/script&gt;

&lt;!-- Add widget container --&gt;
&lt;div data-gm-widget="booking" data-venue="manor"&gt;&lt;/div&gt;</pre>
        </div>
    </div>
    
    <script>
        // Test status tracking
        document.addEventListener('DOMContentLoaded', function() {
            // Check if widget loaded
            if (window.GMBookingWidget) {
                document.getElementById('test-status').innerHTML = `
                    <div class="status success">
                        ‚úÖ Widget loaded successfully! Ready for testing.
                    </div>
                `;
            } else {
                document.getElementById('test-status').innerHTML = `
                    <div class="status error">
                        ‚ùå Widget failed to load. Check console for errors.
                    </div>
                `;
            }
            
            // Listen for booking events
            document.addEventListener('gm-booking-success', function(event) {
                document.getElementById('test-status').innerHTML = `
                    <div class="status success">
                        ‚úÖ Test booking successful! Booking ID: ${event.detail.bookingId}
                    </div>
                `;
            });
            
            document.addEventListener('gm-booking-error', function(event) {
                document.getElementById('test-status').innerHTML = `
                    <div class="status error">
                        ‚ùå Test booking failed: ${event.detail.error}
                    </div>
                `;
            });
        });
    </script>
</body>
</html> 